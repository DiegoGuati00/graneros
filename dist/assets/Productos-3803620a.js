import{r as c,G as E,I as C,j as u,a as n}from"./index-39a70ab6.js";import{u as T}from"./keen-slider.min-9c2a669f.js";const k=({config:v={}})=>{const[l,p]=c.useState([]),[x,h]=c.useState([]),[f,m]=c.useState([]);new E;const g=[e=>{let t,s=!1;function a(){clearTimeout(t)}function r(){clearTimeout(t),!s&&(t=setTimeout(()=>{e.next()},2e3))}e.on("created",()=>{e.container.addEventListener("mouseover",()=>{s=!0,a()}),e.container.addEventListener("mouseout",()=>{s=!1,r()}),r()}),e.on("dragStarted",a),e.on("animationEnded",r),e.on("updated",r)}],[o,i]=T({loop:!0},g);c.useContext(C);const d=e=>{const t=[];x.map(s=>{s.category.id==e.id&&t.push(s)}),m(t)};return c.useEffect(()=>{const e=()=>{fetch("https://api.escuelajs.co/api/v1/categories").then(a=>{a.json().then(r=>{p(r),console.log(r)})})},t=()=>{fetch("https://api.escuelajs.co/api/v1/products").then(a=>{a.json().then(r=>{m(r),h(r),console.log(r)})})};e(),t()},[]),u("div",{id:"Productos",children:[n("div",{ref:o,className:"keen-slider",children:l.map(e=>(i.current.update(),n("div",{className:"keen-slider__slide C-slide",children:n("img",{src:e.image,alt:""})})))}),n("div",{style:{display:"flex",margin:"1rem",overflow:"auto"},children:l.map(e=>u("div",{style:{background:"white",margin:".5rem",borderRadius:".5rem"},onClick:t=>d(e),children:[n("div",{style:{minWidth:"100px",minHeight:"100px",margin:"1rem"},children:n("img",{src:e.image,alt:""})}),n("p",{style:{position:"relative",textAlign:"center",padding:".5rem"},children:e.name})]}))}),n("div",{className:"C1",children:f.map((e,t)=>n(N,{config:e},t))})]})},N=({config:v={}})=>{const l=[o=>{let i,d=!1;function e(){clearTimeout(i)}function t(){clearTimeout(i),!d&&(i=setTimeout(()=>{o.next()},2e3))}o.on("created",()=>{o.container.addEventListener("mouseover",()=>{d=!0,e()}),o.container.addEventListener("mouseout",()=>{d=!1,t()}),t()}),o.on("dragStarted",e),o.on("animationEnded",t),o.on("updated",t)}],[p,x]=T({loop:!0},l),{title:h="",description:f="",price:m="",images:g=[]}=v;return c.useContext(C),u("div",{className:"Cart",children:[n("div",{ref:p,className:"keen-slider",children:g.map((o,i)=>n("div",{className:"keen-slider__slide C-slide",children:n("img",{src:o,alt:""})}))}),u("div",{children:[n("h2",{children:h}),n("p",{children:f}),u("h2",{children:["$",m]})]})]})};export{k as default};
