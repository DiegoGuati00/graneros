import{r,A as p,G as h,a,j as C}from"./index-39a70ab6.js";const f=()=>{const{authAdmin:g,setAuthAdmin:c}=r.useContext(p),[s,u]=r.useState({usuario:"",contraseña:""}),l=(t,o)=>{s[o]=t,u(s)},d=new h,m=t=>{t.preventDefault(),d.get("usuarios",o=>{console.log(o),o.map(e=>{e.usuario==s.usuario&&e.contraseña==s.contraseña&&(c(e),document.cookie="admin_access_token="+e.id+"; path=/")})}),window.location.reload()};return r.useEffect(()=>{let o=document.cookie.split(";"),e={};return o.map(i=>{let n=i.replace(" ","");n=n.split("="),e[n[0]]=n[1]?n[1]:n[0]}),e.admin_access_token&&(d.get("usuarios",i=>{c(i),window.location.replace("/dashboard")},parseInt(e.admin_access_token)),console.log(e)),()=>{}},[]),a("div",{className:"q2",children:a("div",{className:"divprin",children:a("div",{className:"PRIN1",children:C("form",{onSubmit:m,children:[a("h1",{children:"Login Admin"}),a("label",{htmlFor:"nombreC",children:"NOMBRE"}),a("input",{type:"text",onChange:t=>l(t.target.value,"usuario"),id:"nombreC",placeholder:"INGRESE USUARIO"}),a("label",{htmlFor:"CCcedula",children:"Contraseña"}),a("input",{type:"password",onChange:t=>l(t.target.value,"contraseña"),id:"CCcedula",placeholder:"INGRESE CONTRASEÑA"}),a("input",{type:"submit",value:"enviar"})]})})})})};export{f as default};
